/*
 * @(#)mp_tabl.c	1.2 02/08/21
 *
 * Copyright (c) 1996-2002 Sun Microsystems, Inc.  All rights reserved.
 */

#include "mp_mpd.h"

ubyte zzdefault_intraq[64] = {
        8, 16, 16, 19, 16, 19, 22, 22,
       22, 22, 22, 22, 26, 24, 26, 27,
       27, 27, 26, 26, 26, 26, 27, 27,
       27, 29, 29, 29, 34, 34, 34, 29,
       29, 29, 27, 27, 29, 29, 32, 32,
       34, 34, 37, 38, 37, 35, 35, 34,
       35, 38, 38, 40, 40, 40, 48, 48,
       46, 46, 56, 56, 58, 69, 69, 83 };


const float look_asp[16] = {
      0,1,0.6735,0.7031,0.7615,0.8055,0.8437,0.8935,0.9157,0.9815,1.0255,
      1.0695,1.0950,1.1575,1.2015,0};

const float look_picrate[16] = {
      10,23.976,24,25,29.97,30,50,59.94,60,10,10,10,10,10,10,10};

ubyte lk_mbadr1[32] = {
        0,  0,103,102,117,117,116,116,131,131,131,131,130,130,130,130,
      161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161 };

ubyte lk_mbadr2[128] = {
        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
        0,  0,  0,  0,  0,  0,  0,  0, 25, 24, 23, 22, 21, 20, 19, 18,
       17, 16, 15, 14, 45, 45, 44, 44, 43, 43, 42, 42, 41, 41, 40, 40,
      103,103,103,103,103,103,103,103,102,102,102,102,102,102,102,102,
      101,101,101,101,101,101,101,101,100,100,100,100,100,100,100,100,
       99, 99, 99, 99, 99, 99, 99, 99, 98, 98, 98, 98, 98, 98, 98, 98,
      129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,
      128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128 };

/* Addressed with (picture_type<<6 | next 6 bits of the code stream)
   Picture_type is 2 bits: I_pict 00, P_pict 01, B_pict 10, DCI_pict 11
   8bit unsigned entries : FFFFFLLL (5bit flags, 6 - 3bit lenght)
      Flags bit7-3: QUANT,FORWARD,BACKWARD,PATTERN,INTRA (in order)   
*/
ubyte dvlc_mbtype[256] = {
      255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
      140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,
       13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
       13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
      255,136,145,145,209,209,  9,  9, 67, 67, 67, 67, 67, 67, 67, 67,
       20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
       85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85,
       85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85,
      255,136,176,208,241,241,  9,  9, 66, 66, 66, 66, 82, 82, 82, 82,
       35, 35, 35, 35, 35, 35, 35, 35, 51, 51, 51, 51, 51, 51, 51, 51,
      100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,
      116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,
      255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
      255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
       13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
       13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13 };


ubyte dvlc_mv[512] = {
      240,240,240,240,240,240,240,240,240,240,240,240,240,224,208,192,
      176,160,145,145,129,129,113,113, 99, 99, 99, 99, 99, 99, 99, 99,
       83, 83, 83, 83, 83, 83, 83, 83, 67, 67, 67, 67, 67, 67, 67, 67,
       52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52,
       38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38,
       38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38,
       38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38,
       38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38,
       23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
       23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
       23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
       23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
       23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
       23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
       23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
       23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8 };



ubyte dvlc_cbp[512] = {
        0,  0, 39, 27, 59, 55, 47, 31, 58, 58, 54, 54, 46, 46, 30, 30,
       57, 57, 53, 53, 45, 45, 29, 29, 38, 38, 26, 26, 37, 37, 25, 25,
       43, 43, 23, 23, 51, 51, 15, 15, 42, 42, 22, 22, 50, 50, 14, 14,
       41, 41, 21, 21, 49, 49, 13, 13, 35, 35, 19, 19, 11, 11,  7,  7,
       34, 34, 34, 34, 18, 18, 18, 18, 10, 10, 10, 10,  6,  6,  6,  6,
       33, 33, 33, 33, 17, 17, 17, 17,  9,  9,  9,  9,  5,  5,  5,  5,
       63, 63, 63, 63, 63, 63, 63, 63,  3,  3,  3,  3,  3,  3,  3,  3,
       36, 36, 36, 36, 36, 36, 36, 36, 24, 24, 24, 24, 24, 24, 24, 24,
       62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62,
        2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,
       61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61,
        1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
       56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56,
       52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52,
       44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44,
       28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
       40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40,
       20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
       48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48,
       12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
       32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
       32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
       16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,
       16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,
        4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,
        4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,
       60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,
       60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,
       60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,
       60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60 };


/* Lengths of the VLCs for the coded_block_pattern, first entry is dummy*/
ubyte lvlc_cbp[64] = { 
      0,5,5,6,4,7,7,8,4,7,7,8,5,8,8,8,4,7,7,8,5,8,8,8,6,8,8,9,5,8,8,9,4,
      7,7,8,6,8,8,9,5,8,8,8,5,8,8,9,5,8,8,8,5,8,8,9,5,8,8,9,3,5,5,6 };


ubyte one_count[128] = {
   0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,
   1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,
   1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,
   2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7};


/* New style patterns */
uint32 pattern[64] = {
      0x00000008,0x00200002,0x00000101,0x00000201,0x02001004,0x00400002,
      0x00100002,0x04001004,0x02002004,0x00000081,0x00000081,0x02004804,
      0x04002004,0x09001004,0x00100002,0x00180002,0x11001004,0x09002004,
      0x04004804,0x02008804,0x000000c1,0x000000c1,0x02010c04,0x04008804,
      0x09004804,0x11002004,0x21801004,0x00180002,0x00180002,0x41801004,
      0x21802004,0x11004804,0x09008804,0x04010c04,0x02020c04,0x000000c1,
      0x02040c04,0x04020c04,0x09010c04,0x11008804,0x21804804,0x41802004,
      0x81801004,0x81802004,0x41804804,0x21808804,0x11010c04,0x09020c04,
      0x04040c04,0x09040c04,0x11020c04,0x21810c04,0x41808804,0x81804804,
      0x81808804,0x41810c04,0x21820c04,0x11040c04,0x21840c04,0x41820c04,
      0x81810c04,0x81820c04,0x41840c04,0x81840c04 };


ubyte dzz[64] = 
   {0,1,8,16,9,2,3,10,17,
    24,32,25,18,11,4,5,12,
    19,26,33,40,48,41,34,27,
    20,13,6,7,14,21,28,35,
    42,49,56,57,50,43,36,29,
    22,15,23,30,37,44,51,58,
    59,52,45,38,31,39,46,53,
    60,61,54,47,55,62,63};
/*
sbyte lk_lmdc[128] = {
      253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,
       13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
      236,236,236,236,236,236,236,236,244,244,244,244,244,244,244,244,
       20, 20, 20, 20, 20, 20, 20, 20, 28, 28, 28, 28, 28, 28, 28, 28,
        5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,
      202,202,210,210,218,218,226,226, 34, 34, 42, 42, 50, 50, 58, 58,
      137,145,153,161,169,177,185,193, 65, 73, 81, 89, 97,105,113,121,
       48, 48, 48, 48, 48, 48, 48, 48, 32, 32, 32, 32, 16, 16,  0,  0 };

sbyte lk_chrdc[128] = {
        6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,
        6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,
      253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,
       13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
      236,236,236,236,236,236,236,236,244,244,244,244,244,244,244,244,
       20, 20, 20, 20, 20, 20, 20, 20, 28, 28, 28, 28, 28, 28, 28, 28,
      202,202,210,210,218,218,226,226, 34, 34, 42, 42, 50, 50, 58, 58,
       64, 64, 64, 64, 64, 64, 64, 64, 48, 48, 48, 48, 32, 32, 16,  0 };
*/

sbyte lk_lmdc[128] = {
      -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3,
       13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
      -20,-20,-20,-20,-20,-20,-20,-20,-12,-12,-12,-12,-12,-12,-12,-12,
       20, 20, 20, 20, 20, 20, 20, 20, 28, 28, 28, 28, 28, 28, 28, 28,
        5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,
      -54,-54,-46,-46,-38,-38,-30,-30, 34, 34, 42, 42, 50, 50, 58, 58,
     -119,-111,-103,-95,-87,-79,-71,-63, 65, 73, 81, 89, 97,105,113,121,
       48, 48, 48, 48, 48, 48, 48, 48, 32, 32, 32, 32, 16, 16,  0,  0 };

sbyte lk_chrdc[128] = {
        6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,
        6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,
       -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3,
       13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
      -20,-20,-20,-20,-20,-20,-20,-20,-12,-12,-12,-12,-12,-12,-12,-12,
       20, 20, 20, 20, 20, 20, 20, 20, 28, 28, 28, 28, 28, 28, 28, 28,
      -54,-54,-46,-46,-38,-38,-30,-30, 34, 34, 42, 42, 50, 50, 58, 58,
       64, 64, 64, 64, 64, 64, 64, 64, 48, 48, 48, 48, 32, 32, 16,  0 };


/* Run+1,2*level pairs for VLCs 0000001xxxs    */
ubyte runlev0[8][2] = {
   17,2, 6,4, 1,14, 3,6, 2,8, 16,2, 15,2, 5,4 }; 


/* Run+1,2*level pairs for VLCs 00000001xxxxs    */
ubyte runlev1[16][2] = {
   1,22,  9,4,  5,6,  1,20,  3,8,  8,4,  22,2,  21,2,  1,18,  20,2,  
   19,2,  2,10,  4,6,  1,16,  7,4,  18,2 };

/* Run+1,2*level pairs for VLCs 000000001xxxxs    */
ubyte runlev2[16][2] = {
   11,4,  10,4,  6,6,  4,8,  3,10,  2,14,  2,12,  1,30,  1,28,  1,26,  
   1,24,  27,2,  26,2,  25,2,  24,2,  23,2 };

/* Run+1,2*level pairs for VLCs 00000000001xxxxs    */
ubyte runlev4[16][2] = {
   1,80,  1,78,  1,76,  1,74,  1,72,  1,70,  1,68,  1,66,  1,64,  2,28,  
   2,26,  2,24,  2,22,  2,20,  2,18,  2,16 };

/* Run+1,2*level pairs for VLCs 000000000001xxxxs    */
ubyte runlev5[16][2] = {
   2,36,  2,34,  2,32,  2,30,  7,6,  17,4,  16,4,  15,4,  14,4,  13,4,  
   12,4,  32,2,  31,2,  30,2,  29,2,  28,2 };


ubyte jmp_ac9dec[512] = {
      155,154,153,153,152,152,152,152,157,157,157,157,157,157,157,157,
       24, 24, 25, 25, 28, 28, 29, 29, 22, 22, 23, 23, 26, 26, 27, 27,
       20, 20,138, 20, 21, 21,139, 21, 18, 18,136, 18, 19, 19,137, 19,
       14, 14,132, 14, 15, 15,133, 15, 16, 16,134, 16, 17, 17,135, 17,
       44, 45, 32, 33, 42, 43, 40, 41, 36, 37, 34, 35, 30, 31, 38, 39,
        8,  8,  8,  8,126,126,106,107,  9,  9,  9,  9,127,127,108,109,
       12, 12, 12, 12,130,130,114,115, 13, 13, 13, 13,131,131,116,117,
       10, 10, 10, 10,128,128,110,111, 11, 11, 11, 11,129,129,112,113,
        4,  4,  4,  4,  4,  4, 94, 95,122,122,122,122, 90, 90, 91, 91,
        5,  5,  5,  5,  5,  5, 96, 97,123,123,123,123, 92, 92, 93, 93,
        6,  6,  6,  6,  6,  6,102,103,124,124,124,124, 98, 98, 99, 99,
        7,  7,  7,  7,  7,  7,104,105,125,125,125,125,100,100,101,101,
        2,  2,  2,  2,  2,  2,  2,  2, 82, 83, 86, 87, 78, 78, 79, 79,
      120,120,120,120,120,120,120,120, 74, 74,148, 74, 75, 75,149, 75,
        3,  3,  3,  3,  3,  3,  3,  3, 84, 85, 88, 89, 80, 80, 81, 81,
      121,121,121,121,121,121,121,121, 76, 76,150, 76, 77, 77,151, 77,
      156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,
      156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,
      156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,
      156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,
      156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,
      156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,
      156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,
      156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,156,
        0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 62, 63, 70, 71, 66, 67,
       54, 54, 55, 55, 58, 58, 59, 59, 50, 50,144, 50, 51, 51,145, 51,
      118,118,118,118,118,118,118,118,118,118,118,118,118,118,118,118,
       46, 46, 46, 46,140,140, 46, 46, 47, 47, 47, 47,141,141, 47, 47,
        1,  1,  1,  1,  1,  1,  1,  1,  1,  1, 64, 65, 72, 73, 68, 69,
       56, 56, 57, 57, 60, 60, 61, 61, 52, 52,146, 52, 53, 53,147, 53,
      119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,
       48, 48, 48, 48,142,142, 48, 48, 49, 49, 49, 49,143,143, 49, 49 };
